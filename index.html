<!DOCTYPE html>

<html>
<head>
<title>Retroscope</title>

<link rel="stylesheet" type="text/css" href="style.css" />
<script type="text/javascript" src="src/lib/jquery.min.js"></script>

<script type="text/javascript" src="src/captor.js"></script>
<script type="text/javascript" src="src/buffer.js"></script>
<script type="text/javascript" src="src/dispatcher.js"></script>
<script type="text/javascript" src="src/layout.js"></script>
<script type="text/javascript" src="src/mainloop.js"></script>
<script type="text/javascript" src="src/scoreboard.js"></script>
<script type="text/javascript" src="src/ui_events.js"></script>

<script type="text/javascript">
$(document).ready(function() {
    var scoreboard = new ScoreBoard();
    var captor = new Captor(scoreboard);
    var buffer = new Buffer(scoreboard);
    var dispatcher = new Dispatcher(buffer);

    var uievents = new UiEvents(scoreboard);
    var layout = new Layout();
    layout.set_dimensions();

    var mainloop = new MainLoop(captor, buffer, dispatcher, scoreboard);
    mainloop.run();
});
</script>

</head>
<body>
    <div id="images">
        <div class="box">
            <img class="delay" data-delay="2" />
            <div class="meta">
              <span class="delaylabel"></span>
            </div>
        </div>
        <div class="box">
            <img class="delay" data-delay="4"/>
            <div class="meta">
              <span class="delaylabel"></span>
            </div>
        </div>

        <br />

        <div class="box">
            <img class="delay" data-delay="6"/>
            <div class="meta">
              <span class="delaylabel"></span>
            </div>
        </div>
        <div class="box">
            <img class="delay" data-delay="8"/>
            <div class="meta">
              <span class="delaylabel"></span>
            </div>
        </div>
    </div>

    <div id="sidebar">
    <a id="about">About</a>
    &nbsp;&nbsp; | &nbsp;&nbsp;
    <a id="toggle_debug">Debug</a>
    </div>

    <div id="debug" style="display: none">
      FPS: <span id="fps">0</span><br />
      FPS Possible: <span id="fps_limit">0</span><br />
      <br />
      Frame Time: <span id="total_frame_time">0</span> ms<br />
      Total Captor Time: <span id="captor_time">0</span> ms<br />
      Copy To Canvas Time: <span id="copy_to_canvas_time">0</span> ms<br />
      To Data URL Time: <span id="to_data_url_time">0</span> ms<br />
      Update Display Time: <span id="update_display_time">0</span> ms<br />
      <br />
      Buffer in Memory: <span id="buffer_in_memory">0</span> MB<br />
    </div>
</body>
</html>
